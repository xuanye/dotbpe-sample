(function(d){this.version="(beta)(0.0.3)";this.all={};this.special_keys={27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"};this.shift_nums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":",
"'":'"',",":"<",".":">","/":"?","\\":"|"};this.add=function(e,a,h){d.isFunction(a)&&(h=a,a={});var c={},m={type:"keydown",propagate:!1,disableInInput:!1,target:d("html")[0],checkParent:!0},j=this,c=d.extend(c,m,a||{}),e=e.toLowerCase();this.all[c.target]||(this.all[c.target]={events:{}});this.all[c.target].events[c.type]||(this.all[c.target].events[c.type]={callbackMap:{}},d.event.add(c.target,c.type,function(f){var f=d.event.fix(f),b=f.target,b=b.nodeType==3?b.parentNode:b;if(c.disableInInput){var a=
d(b);if(a.is("input")||a.is("textarea"))return}var e=f.which,g=f.type,a=String.fromCharCode(e).toLowerCase(),e=j.special_keys[e],h=f.shiftKey,k=f.ctrlKey,l=f.altKey,i=null;if(d.browser.opera||d.browser.safari||c.checkParent)for(;!j.all[b]&&b.parentNode;)b=b.parentNode;b=j.all[b].events[g].callbackMap;!h&&!k&&!l?i=b[e]||b[a]:(g="",l&&(g+="alt+"),k&&(g+="ctrl+"),h&&(g+="shift+"),i=b[g+e]||b[g+a]||b[g+j.shift_nums[a]]);if(i&&(i.cb(f),!i.propagate))return f.stopPropagation(),f.preventDefault(),!1}));
this.all[c.target].events[c.type].callbackMap[e]={cb:h,propagate:c.propagate};return d};this.remove=function(e,a){a=a||{};target=a.target||d("html")[0];type=a.type||"keydown";e=e.toLowerCase();delete this.all[target].events[type].callbackMap[e];return d};d.hotkeys=this;return d})(jQuery);
